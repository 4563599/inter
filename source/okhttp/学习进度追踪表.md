# 📋 OkHttp源码学习进度追踪表

> 打印此文档，每完成一项就打✅，见证你的进步！

---

## 📅 Day 1：基础数据类（2-3小时）

### 学习任务
- [ ] 阅读 01_RequestBody_模板.java（30分钟）
- [ ] 实现 RequestBody.java
- [ ] 测试 RequestBody
- [ ] 阅读 02_ResponseBody_模板.java（30分钟）
- [ ] 实现 ResponseBody.java
- [ ] 测试 ResponseBody
- [ ] 阅读 03_Request_模板.java（45分钟）
- [ ] 实现 Request.java
- [ ] 测试 Request
- [ ] 阅读 04_Response_模板.java（45分钟）
- [ ] 实现 Response.java
- [ ] 测试 Response

### 练习题
- [ ] 完成实战练习题 #1（实现StringRequestBody）
- [ ] 完成实战练习题 #2（使用Builder创建Request）

### 理解检查
- [ ] 能解释为什么RequestBody是抽象类
- [ ] 能解释Builder模式的优势
- [ ] 能解释为什么Response.string()只能调用一次
- [ ] 能画出Request的Builder模式类图

**完成时间**：____年____月____日

**学习心得**：
```
今天最大的收获是：


遇到的困难：


明天要注意：

```

---

## 📅 Day 2：核心接口与链 ⭐⭐⭐⭐⭐（3-4小时）

### 学习任务
- [ ] 阅读 05_Call_模板.java（30分钟）
- [ ] 实现 Call.java
- [ ] 阅读 06_Interceptor_模板.java（1小时）
- [ ] 实现 Interceptor.java
- [ ] **重点** 阅读 07_RealInterceptorChain_模板.java（1.5小时）
- [ ] **重点** 实现 RealInterceptorChain.java
- [ ] 测试拦截器链的递归调用

### 练习题
- [ ] 完成实战练习题 #3（实现日志拦截器）
- [ ] **重要** 完成实战练习题 #5（手写拦截器链递归）

### 理解检查
- [ ] 能画出拦截器调用流程图
- [ ] 能解释index的作用
- [ ] 能解释为什么是递归调用
- [ ] 能解释责任链模式
- [ ] 能口述3个拦截器的完整调用过程

### 调试练习
- [ ] 创建3个测试拦截器
- [ ] 观察before和after的输出顺序
- [ ] 理解为什么是"洋葱模型"

**完成时间**：____年____月____日

**学习心得**：
```
今天最大的收获是：


递归调用的理解：


遇到的困难：


明天要注意：

```

---

## 📅 Day 3：客户端与执行（2-3小时）

### 学习任务
- [ ] 阅读 08_OkHttpClient_模板.java（1小时）
- [ ] 实现 OkHttpClient.java
- [ ] 测试 OkHttpClient 配置
- [ ] 阅读 09_RealCall_模板.java（1.5小时）
- [ ] 实现 RealCall.java
- [ ] 测试同步请求（execute）
- [ ] 测试异步请求（enqueue）

### 理解检查
- [ ] 能画出从newCall()到Response的完整流程
- [ ] 能解释为什么推荐全局单例OkHttpClient
- [ ] 能解释execute()和enqueue()的区别
- [ ] 能解释AsyncCall的作用

### 实战测试
- [ ] 创建一个配置完整的OkHttpClient
- [ ] 发送一个同步GET请求
- [ ] 发送一个异步POST请求
- [ ] 对比同步和异步的线程

**完成时间**：____年____月____日

**学习心得**：
```
今天最大的收获是：


对同步/异步的理解：


遇到的困难：

```

---

## 📅 Day 4：拦截器实现（上）（2-3小时）

### 学习任务
- [ ] 阅读 10_BridgeInterceptor_模板.java（1小时）
- [ ] 实现 BridgeInterceptor.java
- [ ] 测试HTTP头的添加
- [ ] 阅读 11_RetryAndFollowUpInterceptor_模板.java（1.5小时）
- [ ] 实现 RetryAndFollowUpInterceptor.java
- [ ] 测试重试逻辑
- [ ] 测试重定向处理

### 理解检查
- [ ] 能列出BridgeInterceptor添加的所有HTTP头
- [ ] 能解释每个HTTP头的作用
- [ ] 能解释什么情况下需要重试
- [ ] 能解释301和302的区别
- [ ] 能解释为什么要限制重定向次数

### 练习题
- [ ] 完成实战练习题 #7（实现重试拦截器）

**完成时间**：____年____月____日

**学习心得**：
```
今天最大的收获是：


对HTTP头的理解：


遇到的困难：

```

---

## 📅 Day 5：拦截器实现（下）⭐⭐⭐⭐⭐（3-4小时）

### 学习任务
- [ ] 阅读 12_ConnectInterceptor_模板.java（1小时）
- [ ] 实现 ConnectInterceptor.java
- [ ] **重点** 阅读 13_CallServerInterceptor_模板.java（2小时）
- [ ] **重点** 实现 CallServerInterceptor.java
- [ ] 测试HTTP请求发送

### 理解检查
- [ ] 能手写HTTP请求格式（包括\r\n）
- [ ] 能手写HTTP响应格式
- [ ] 能解释\r\n的作用
- [ ] 能解释空行的作用
- [ ] 能解释Content-Length的作用
- [ ] 能解释连接的获取流程

### 实战练习
- [ ] **重要** 用Socket手写HTTP客户端
- [ ] 完成实战练习题 #6（实现writeRequest和readResponse）
- [ ] 用Wireshark抓包观察HTTP格式

**完成时间**：____年____月____日

**学习心得**：
```
今天最大的收获是：


对HTTP协议的理解：


手写HTTP客户端的体会：


遇到的困难：

```

---

## 📅 Day 6：连接管理 ⭐⭐⭐⭐（2-3小时）

### 学习任务
- [ ] 阅读 14_RealConnection_模板.java（1小时）
- [ ] 实现 RealConnection.java
- [ ] 测试连接的生命周期
- [ ] 阅读 15_ConnectionPool_模板.java（1.5小时）
- [ ] 实现 ConnectionPool.java
- [ ] 测试连接复用
- [ ] 测试清理策略

### 理解检查
- [ ] 能解释引用计数的作用
- [ ] 能解释连接复用的好处
- [ ] 能解释清理策略（5个/5分钟）
- [ ] 能画出连接池工作流程图
- [ ] 能计算性能提升比例

### 练习题
- [ ] 完成实战练习题 #4（实现引用计数）
- [ ] 完成实战练习题 #8（实现cleanup方法）

### 性能测试
- [ ] 对比第一次请求和复用连接的耗时
- [ ] 记录性能数据：第一次____ms，第二次____ms，提升____%

**完成时间**：____年____月____日

**学习心得**：
```
今天最大的收获是：


对连接复用的理解：


性能测试结果：


遇到的困难：

```

---

## 📅 Day 7：调度与总结（2-3小时）

### 学习任务
- [ ] 阅读 16_Dispatcher_模板.java（1小时）
- [ ] 实现 Dispatcher.java
- [ ] 测试并发控制
- [ ] 测试等待队列

### 理解检查
- [ ] 能解释三个队列的作用
- [ ] 能解释promoteAndExecute()的作用
- [ ] 能解释并发控制的实现
- [ ] 能画出请求调度流程图

### 综合练习
- [ ] 画出完整的请求流程图（从client.newCall()到Response）
- [ ] 实现一个完整的简化版OkHttp
- [ ] 完成所有8道实战练习题

### 总结回顾
- [ ] 复习16个类的作用
- [ ] 复习三大核心组件
- [ ] 复习拦截器执行顺序
- [ ] 准备面试问题

**完成时间**：____年____月____日

**学习心得**：
```
7天学习总结：


最大的收获：


最难的部分：


对OkHttp的整体理解：


下一步计划：

```

---

## 🎓 最终检验

### 理论知识检验
- [ ] 能讲解OkHttp的整体架构（5分钟）
- [ ] 能讲解拦截器链的工作原理
- [ ] 能讲解HTTP协议格式
- [ ] 能讲解连接复用的原理
- [ ] 能讲解并发控制的实现

### 实战能力检验
- [ ] 能独立实现简化版OkHttp
- [ ] 能实现自定义拦截器
- [ ] 能手写HTTP客户端（Socket）
- [ ] 能实现连接池
- [ ] 能实现异步调度

### 面试准备检验
- [ ] 能回答：OkHttp的拦截器是如何工作的？
- [ ] 能回答：为什么OkHttp性能这么好？
- [ ] 能回答：连接池是如何工作的？
- [ ] 能回答：同步和异步请求的区别？
- [ ] 能回答：如何自定义拦截器？

---

## 📊 学习统计

### 时间统计
- Day 1 实际用时：____ 小时
- Day 2 实际用时：____ 小时
- Day 3 实际用时：____ 小时
- Day 4 实际用时：____ 小时
- Day 5 实际用时：____ 小时
- Day 6 实际用时：____ 小时
- Day 7 实际用时：____ 小时
- **总计**：____ 小时

### 完成度统计
- 学习任务完成：____ / 40
- 练习题完成：____ / 8
- 理解检查通过：____ / 50
- **总完成度**：____ %

---

## 🎉 完成证明

我，________________，已完成OkHttp源码学习的全部内容。

完成日期：____年____月____日

签名：________________

---

## 💪 继续学习建议

完成后，你可以：
1. [ ] 阅读OkHttp真实源码，对比差异
2. [ ] 学习Retrofit源码（基于OkHttp）
3. [ ] 学习其他HTTP库（Volley、HttpURLConnection）
4. [ ] 深入学习HTTP/2和QUIC协议
5. [ ] 实现一个完整的网络框架

---

**加油！期待你的成功！** 🚀

